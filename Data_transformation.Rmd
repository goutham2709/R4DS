---
title: "Data_transformation"
author: "Goutham"
date: "10/18/2019"
output: html_document
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(tidyverse)
library(nycflights13)
```


## Little practice before the exercises...
```{r}
?flights

flights
View(flights)  # To view the entire dataset
dim(flights)

filter(flights, day == 1, month == 1) %>% View()

jan1 <- filter(flights, day == 1, month == 1)
jan1

(nov_dec <- filter(flights, month %in% c(11,12)))
(nov_dec <- filter(flights, month == 11 | month == 12)) # Another way of writing above

#Demorgans law:
# !(x | y) = !x & !y
#! (x & y ) = !x | !y



```


### 5.3.4 Filtering rows with filter()

1. Find all flights that

1a. Had an arrival delay of two or more hours
```{r}
filter(flights, arr_delay > 120)
```

1b. Flew to Houston (IAH or HOU)
```{r}
filter(flights, dest %in% c("IAH", "HOU"))
```

1c. Were operated by United, American, or Delta
```{r}
filter(flights, carrier %in% c("UA", "AA","DL"))
```

1d. Departed in summer (July, August, and September)
```{r}
filter(flights, month %in% c(7, 8, 9))
```

1e. Arrived more than two hours late, but didnâ€™t leave late
```{r}
filter(flights, arr_delay > 120 & dep_delay < 0)
```

1f. Were delayed by at least an hour, but made up over 30 minutes in flight
```{r}
filter(flights, dep_delay > 60 & arr_time - 30)
```

1g. Departed between midnight and 6am (inclusive)
```{r}
filter(flights, hour %in% c(24, 1:6))
```


2. Another useful dplyr filtering helper is between(). What does it do? Can you use it to simplify the code needed to answer the previous challenges?
```{r}
?between

between(1:12, 7, 9)
```


How many flights have a missing dep_time? What other variables are missing? What might these rows represent?

Why is NA ^ 0 not missing? Why is NA | TRUE not missing? Why is FALSE & NA not missing? Can you figure out the general rule? (NA * 0 is a tricky counterexample!)




















